<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>뉴스레터</title>
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
</head>
<body style="margin: 0; padding: 0; background-color: #f0f4f8; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; line-height: 1.6;">
<table width="100%" cellpadding="0" cellspacing="0" border="0" style="background-color: #f0f4f8; padding: 40px 20px;">
    <tr>
        <td align="center">
            <!-- 메인 컨테이너 -->
            <table width="600" cellpadding="0" cellspacing="0" border="0" style="background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 12px rgba(0, 50, 100, 0.08); max-width: 600px;">

                <!-- 헤더 -->
                <tr>
                    <td style="background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); padding: 40px 32px; text-align: center;">
                        <h1 style="margin: 0; font-size: 26px; font-weight: 600; color: #ffffff; letter-spacing: -0.5px;">Newsletter</h1>
                        <p style="margin: 12px 0 0 0; font-size: 14px; color: #dbeafe; opacity: 0.95;">
                            <span th:text="${#temporals.format(date, 'yyyy년 MM월 dd일')}">2025년 01월 01일</span>
                        </p>
                    </td>
                </tr>

                <!-- 메인 콘텐츠 영역 -->
                <tr>
                    <td style="padding: 40px 32px;">

                        <!-- 제목 -->
                        <h2 th:text="${title}" style="margin: 0 0 20px 0; font-size: 20px; font-weight: 600; color: #1e293b; line-height: 1.4;">
                            이번 주 인기글
                        </h2>

                        <!-- 인사말 -->
                        <p style="margin: 0 0 24px 0; font-size: 15px; color: #475569; line-height: 1.6;">
                            안녕하세요, <span th:text="${email}" style="font-weight: 500; color: #2563eb;">구독자</span>님
                        </p>

                        <!-- 단일 컨텐츠 -->
                        <div th:if="${content != null}">
                            <div style="background-color: #f8fafc; border-left: 3px solid #2563eb; border-radius: 6px; padding: 20px; margin-bottom: 24px;">
                                <h3 th:text="${content.title}" style="margin: 0 0 12px 0; font-size: 17px; font-weight: 600; color: #1e293b;">
                                    컨텐츠 제목
                                </h3>
                                <p th:text="${content.content}" style="margin: 0; font-size: 14px; color: #64748b; line-height: 1.6;">
                                    컨텐츠 내용
                                </p>
                            </div>
                        </div>

                        <!-- 다중 컨텐츠 -->
                        <div th:if="${contents != null}">
                            <div th:each="item : ${contents}" style="background-color: #f8fafc; border-left: 3px solid #2563eb; border-radius: 6px; padding: 20px; margin-bottom: 16px;">
                                <h3 th:text="${item.title}" style="margin: 0 0 12px 0; font-size: 17px; font-weight: 600; color: #1e293b;">
                                    컨텐츠 제목
                                </h3>
                                <p th:text="${item.content}" style="margin: 0; font-size: 14px; color: #64748b; line-height: 1.6;">
                                    컨텐츠 내용
                                </p>
                            </div>
                        </div>

                        <!-- Knowledge 여부에 따른 메시지 -->
                        <div th:if="${hasKnowledge != null}">
                            <p th:if="${hasKnowledge}" style="margin: 24px 0 0 0; font-size: 14px; color: #64748b; line-height: 1.6;">
                                더 많은 정보를 확인하고 싶으시다면 아래 버튼을 클릭해주세요.
                            </p>
                            <p th:if="${!hasKnowledge}" style="margin: 24px 0 0 0; font-size: 14px; color: #64748b; line-height: 1.6;">
                                현재 표시할 새로운 소식이 없습니다.
                            </p>
                        </div>

                        <!-- CTA 버튼 -->
                        <table th:if="${link != null and link != 'http://empty.com'}" style="margin: 32px auto 0 auto;">
                            <tr>
                                <td style="background-color: #2563eb; border-radius: 6px;">
                                    <a th:href="${link}"
                                       style="display: block; padding: 14px 32px; color: #ffffff; text-decoration: none; font-weight: 500; font-size: 15px;">
                                        자세히 보기
                                    </a>
                                </td>
                            </tr>
                        </table>

                    </td>
                </tr>

                <!-- 푸터 -->
                <tr>
                    <td style="background-color: #f8fafc; padding: 32px; text-align: center; border-top: 1px solid #e2e8f0;">
                        <p style="margin: 0 0 16px 0; font-size: 13px; color: #64748b; line-height: 1.5;">
                            이 메일은 뉴스레터 구독 회원에게 발송되었습니다.
                        </p>
                        <p style="margin: 0; font-size: 12px; color: #94a3b8;">
                            <span th:text="${email}">example@email.com</span>
                        </p>
                    </td>
                </tr>

            </table>
        </td>
    </tr>
</table>
</body>
</html>
